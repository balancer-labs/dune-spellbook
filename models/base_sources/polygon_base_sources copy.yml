version: 2

sources:
  # Base Tables
  - name: polygon
    description: 'Polygon raw tables'
    freshness:
      warn_after: { count: 12, period: hour }
    tables:
      - name: logs
        loaded_at_field: block_time
        description: 'This table stores all logs that get generated by smart contracts.'
        columns:
          - name: block_hash
            description: 'A unique identifier for that block'
          - name: block_number
            description: 'The length of the blockchain in blocks'
          - name: block_time
            description: 'The time when the block was mined that includes this log'
          - name: contract_address
            description: 'The address of the contract that emitted the log'
          - name: topic1
            description: 'keccak256 hash of a flattened event declaration string'
          - name: topic2
            description: 'Indexed topic of the event'
          - name: topic3
            description: 'Indexed topic of the event'
          - name: topic4
            description: 'Indexed topic of the event'
          - name: data
            description: 'Unindexed data containing further information on the event'
          - name: tx_hash
            description: "The transaction's hash of the transaction that produced this log"
          - name: index
            description: "This logs' index position in the block (cumulative amount of logs ordered by execution)"
          - name: tx_index
            description: 'The index position of the transaction in this block (cumulative amount of transactions ordered by execution)'
